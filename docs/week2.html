<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Case Studies in Reproducible Research: a spring seminar at UCSC</title>
  <meta name="description" content="This is a bookdown that stores materials for a UCSC seminar on reproducible research with R. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown 0.3.14 and GitBook 2.6.7">

  <meta property="og:title" content="Case Studies in Reproducible Research: a spring seminar at UCSC" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a bookdown that stores materials for a UCSC seminar on reproducible research with R. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="eriqande/rep-res-eeb-2017" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Case Studies in Reproducible Research: a spring seminar at UCSC" />
  
  <meta name="twitter:description" content="This is a bookdown that stores materials for a UCSC seminar on reproducible research with R. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Eric C. Anderson, Kristen C. Ruegg, Tina Cheng, and the students of EEB 295">


<meta name="date" content="2017-05-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="week1.html">
<link rel="next" href="week3.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Case Studies in Reproducible Research</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#meeting-times-location-requirements"><i class="fa fa-check"></i><b>1.1</b> Meeting Times, Location, Requirements</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#the-origin-of-this-seminar"><i class="fa fa-check"></i><b>1.2</b> The origin of this seminar</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#course-organizers"><i class="fa fa-check"></i><b>1.3</b> Course Organizers</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-goals"><i class="fa fa-check"></i><b>1.4</b> Course Goals</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#weekly-syllabus"><i class="fa fa-check"></i><b>1.5</b> Weekly Syllabus</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#week-1-introduction-and-getting-your-workspace-set-up"><i class="fa fa-check"></i><b>1.5.1</b> Week 1 — Introduction and Getting Your Workspace Set Up</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#week-2-rstudio-project-organization-using-git-and-github-quick-rmarkdown"><i class="fa fa-check"></i><b>1.5.2</b> Week 2 — RStudio project organization; using git and GitHub; Quick RMarkdown</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#week-3-tibbles.-reading-data-in.-data-rectangling"><i class="fa fa-check"></i><b>1.5.3</b> Week 3 — Tibbles. Reading data in. Data rectangling</a></li>
<li class="chapter" data-level="1.5.4" data-path="index.html"><a href="index.html#week-4"><i class="fa fa-check"></i><b>1.5.4</b> Week 4 —</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="week1.html"><a href="week1.html"><i class="fa fa-check"></i><b>2</b> Week One Meeting</a><ul>
<li class="chapter" data-level="2.1" data-path="week1.html"><a href="week1.html#software-installation"><i class="fa fa-check"></i><b>2.1</b> Software Installation</a></li>
<li class="chapter" data-level="2.2" data-path="week1.html"><a href="week1.html#get-an-account-on-github"><i class="fa fa-check"></i><b>2.2</b> Get an account on GitHub</a><ul>
<li class="chapter" data-level="2.2.1" data-path="week1.html"><a href="week1.html#private-repositories"><i class="fa fa-check"></i><b>2.2.1</b> Private repositories</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="week1.html"><a href="week1.html#open-an-rstudio-project-from-github"><i class="fa fa-check"></i><b>2.3</b> Open an RStudio Project from GitHub</a></li>
<li class="chapter" data-level="2.4" data-path="week1.html"><a href="week1.html#assignment-for-next-week-create-an-rstudio-project-with-your-own-data"><i class="fa fa-check"></i><b>2.4</b> Assignment for next week: Create an RStudio Project with Your Own Data</a></li>
<li class="chapter" data-level="2.5" data-path="week1.html"><a href="week1.html#week2reading"><i class="fa fa-check"></i><b>2.5</b> Reading for next week</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="week2.html"><a href="week2.html"><i class="fa fa-check"></i><b>3</b> Week Two Meeting</a><ul>
<li class="chapter" data-level="3.1" data-path="week2.html"><a href="week2.html#workflow-and-project-recap"><i class="fa fa-check"></i><b>3.1</b> Workflow and Project Recap</a><ul>
<li class="chapter" data-level="3.1.1" data-path="week2.html"><a href="week2.html#workflow-basics"><i class="fa fa-check"></i><b>3.1.1</b> Workflow: basics</a></li>
<li class="chapter" data-level="3.1.2" data-path="week2.html"><a href="week2.html#workflow-projects"><i class="fa fa-check"></i><b>3.1.2</b> Workflow: projects</a></li>
<li class="chapter" data-level="3.1.3" data-path="week2.html"><a href="week2.html#workflow-scripts"><i class="fa fa-check"></i><b>3.1.3</b> Workflow: scripts</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="week2.html"><a href="week2.html#lets-talk-about-the-pipe"><i class="fa fa-check"></i><b>3.2</b> Let’s talk about the pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.3" data-path="week2.html"><a href="week2.html#tibbles-and-rectangular-data"><i class="fa fa-check"></i><b>3.3</b> Tibbles and “rectangular” data</a><ul>
<li class="chapter" data-level="3.3.1" data-path="week2.html"><a href="week2.html#tibble-excercises"><i class="fa fa-check"></i><b>3.3.1</b> Tibble excercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="week2.html"><a href="week2.html#data-import"><i class="fa fa-check"></i><b>3.4</b> Data import</a><ul>
<li class="chapter" data-level="3.4.1" data-path="week2.html"><a href="week2.html#rstudios-gui-importer"><i class="fa fa-check"></i><b>3.4.1</b> RStudio’s GUI importer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week3.html"><a href="week3.html"><i class="fa fa-check"></i><b>4</b> Week Three Meeting</a><ul>
<li class="chapter" data-level="4.1" data-path="week3.html"><a href="week3.html#git-basics"><i class="fa fa-check"></i><b>4.1</b> Git Basics</a><ul>
<li class="chapter" data-level="4.1.1" data-path="week3.html"><a href="week3.html#vcs"><i class="fa fa-check"></i><b>4.1.1</b> An overview of Version Control Systems (VCS)</a></li>
<li class="chapter" data-level="4.1.2" data-path="week3.html"><a href="week3.html#git-versus-github"><i class="fa fa-check"></i><b>4.1.2</b> Git versus GitHub</a></li>
<li class="chapter" data-level="4.1.3" data-path="week3.html"><a href="week3.html#git-thru-rstudio"><i class="fa fa-check"></i><b>4.1.3</b> Using git through RStudio</a></li>
<li class="chapter" data-level="4.1.4" data-path="week3.html"><a href="week3.html#git-play"><i class="fa fa-check"></i><b>4.1.4</b> Go for it everyone!</a></li>
<li class="chapter" data-level="4.1.5" data-path="week3.html"><a href="week3.html#git-how"><i class="fa fa-check"></i><b>4.1.5</b> How does git store and keep track of things</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="week3.html"><a href="week3.html#pushing-and-pulling-with-github"><i class="fa fa-check"></i><b>4.2</b> Pushing and Pulling With GitHub</a><ul>
<li class="chapter" data-level="4.2.1" data-path="week3.html"><a href="week3.html#creating-a-repository-on-github-and-the-initial-push"><i class="fa fa-check"></i><b>4.2.1</b> Creating a Repository on GitHub and the initial push</a></li>
<li class="chapter" data-level="4.2.2" data-path="week3.html"><a href="week3.html#subsequent-pushes"><i class="fa fa-check"></i><b>4.2.2</b> Subsequent pushes</a></li>
<li class="chapter" data-level="4.2.3" data-path="week3.html"><a href="week3.html#assign-collaborators"><i class="fa fa-check"></i><b>4.2.3</b> Assign collaborators</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="week3.html"><a href="week3.html#next-weeks-assignment"><i class="fa fa-check"></i><b>4.3</b> Next Week’s Assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="week4.html"><a href="week4.html"><i class="fa fa-check"></i><b>5</b> Week Four Meeting</a><ul>
<li class="chapter" data-level="5.1" data-path="week4.html"><a href="week4.html#knit-your-readme.rmd-files"><i class="fa fa-check"></i><b>5.1</b> Knit your README.Rmd files</a></li>
<li class="chapter" data-level="5.2" data-path="week4.html"><a href="week4.html#changing-to-factors"><i class="fa fa-check"></i><b>5.2</b> Changing to factors</a></li>
<li class="chapter" data-level="5.3" data-path="week4.html"><a href="week4.html#the-group_by-function"><i class="fa fa-check"></i><b>5.3</b> The <code>group_by()</code> function</a></li>
<li class="chapter" data-level="5.4" data-path="week4.html"><a href="week4.html#how-do-i-learn-about-all-the-vectorized-functions-i-can-use-in-mutate-and-summarize"><i class="fa fa-check"></i><b>5.4</b> How do I learn about all the vectorized functions I can use in <code>mutate()</code> and <code>summarize()</code>?</a></li>
<li class="chapter" data-level="5.5" data-path="week4.html"><a href="week4.html#next-weeks-assignment-1"><i class="fa fa-check"></i><b>5.5</b> Next Week’s Assignment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="week5.html"><a href="week5.html"><i class="fa fa-check"></i><b>6</b> Week Five Meeting</a><ul>
<li class="chapter" data-level="6.1" data-path="week5.html"><a href="week5.html#some-things-regarding-peoples-repositories"><i class="fa fa-check"></i><b>6.1</b> Some things regarding people’s repositories</a><ul>
<li class="chapter" data-level="6.1.1" data-path="week5.html"><a href="week5.html#data-compression"><i class="fa fa-check"></i><b>6.1.1</b> Data Compression</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="week5.html"><a href="week5.html#a-quick-aside-about-missing-data"><i class="fa fa-check"></i><b>6.2</b> A quick aside about missing data</a></li>
<li class="chapter" data-level="6.3" data-path="week5.html"><a href="week5.html#brief-highlights-of-the-joins-chapter"><i class="fa fa-check"></i><b>6.3</b> Brief Highlights of the Joins Chapter</a><ul>
<li class="chapter" data-level="6.3.1" data-path="week5.html"><a href="week5.html#a-few-thoughts-on-keys"><i class="fa fa-check"></i><b>6.3.1</b> A few thoughts on keys</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="week5.html"><a href="week5.html#an-example-of-using-some-joins"><i class="fa fa-check"></i><b>6.4</b> An example of using some joins</a><ul>
<li class="chapter" data-level="6.4.1" data-path="week5.html"><a href="week5.html#when-would-i-use-right_join"><i class="fa fa-check"></i><b>6.4.1</b> When would I use <code>right_join()</code>?</a></li>
<li class="chapter" data-level="6.4.2" data-path="week5.html"><a href="week5.html#what-about-that-inner_join"><i class="fa fa-check"></i><b>6.4.2</b> What about that <code>inner_join()</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="week5.html"><a href="week5.html#an-anti_join-example"><i class="fa fa-check"></i><b>6.4.3</b> An anti_join example</a></li>
<li class="chapter" data-level="6.4.4" data-path="week5.html"><a href="week5.html#just-for-fun-lets-see-a-full_join"><i class="fa fa-check"></i><b>6.4.4</b> Just for fun, let’s see a full_join()</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="week5.html"><a href="week5.html#working-with-r-notebooks"><i class="fa fa-check"></i><b>6.5</b> Working with R Notebooks</a><ul>
<li class="chapter" data-level="6.5.1" data-path="week5.html"><a href="week5.html#open-your-own-r-notebook"><i class="fa fa-check"></i><b>6.5.1</b> Open your own R Notebook</a></li>
<li class="chapter" data-level="6.5.2" data-path="week5.html"><a href="week5.html#working-with-r-notebooks-1"><i class="fa fa-check"></i><b>6.5.2</b> Working with R Notebooks</a></li>
<li class="chapter" data-level="6.5.3" data-path="week5.html"><a href="week5.html#some-caveats-about-notebooks"><i class="fa fa-check"></i><b>6.5.3</b> Some caveats about notebooks</a></li>
<li class="chapter" data-level="6.5.4" data-path="week5.html"><a href="week5.html#opening-a-.nb.html-file-in-rstudio"><i class="fa fa-check"></i><b>6.5.4</b> Opening a .nb.html file in Rstudio</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="week5.html"><a href="week5.html#for-next-week"><i class="fa fa-check"></i><b>6.6</b> For Next Week:</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html"><i class="fa fa-check"></i><b>7</b> Week 6 meeting: using ggplot2</a><ul>
<li class="chapter" data-level="7.0.1" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#your-mission"><i class="fa fa-check"></i><b>7.0.1</b> Your Mission</a></li>
<li class="chapter" data-level="7.1" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#some-lecture-notes-from-a-few-years-ago"><i class="fa fa-check"></i><b>7.1</b> Some lecture notes from a few years ago</a><ul>
<li class="chapter" data-level="7.1.1" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#goals-for-this-hour"><i class="fa fa-check"></i><b>7.1.1</b> Goals for this hour:</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#about-ggplot2"><i class="fa fa-check"></i><b>7.2</b> About ggplot2</a><ul>
<li class="chapter" data-level="7.2.1" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#basics"><i class="fa fa-check"></i><b>7.2.1</b> Basics</a></li>
<li class="chapter" data-level="7.2.2" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#what-is-this-grammar-of-graphics"><i class="fa fa-check"></i><b>7.2.2</b> What is this grammar of graphics?</a></li>
<li class="chapter" data-level="7.2.3" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#ggplot2"><i class="fa fa-check"></i><b>7.2.3</b> ggplot2</a></li>
<li class="chapter" data-level="7.2.4" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#components-of-the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.2.4</b> Components of the grammar of graphics</a></li>
<li class="chapter" data-level="7.2.5" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#in-a-nutshell"><i class="fa fa-check"></i><b>7.2.5</b> In a nutshell</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#pv-example"><i class="fa fa-check"></i><b>7.3</b> An example, please</a><ul>
<li class="chapter" data-level="7.3.1" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#a-pole-vaulting-example"><i class="fa fa-check"></i><b>7.3.1</b> A pole vaulting example</a></li>
<li class="chapter" data-level="7.3.2" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#a-first-ggplot"><i class="fa fa-check"></i><b>7.3.2</b> A first ggplot</a></li>
<li class="chapter" data-level="7.3.3" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#ggplots-system-of-defaults"><i class="fa fa-check"></i><b>7.3.3</b> ggplot’s system of defaults</a></li>
<li class="chapter" data-level="7.3.4" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#how-many-geoms-are-there"><i class="fa fa-check"></i><b>7.3.4</b> How many geoms are there?</a></li>
<li class="chapter" data-level="7.3.5" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#getting-even-sillier"><i class="fa fa-check"></i><b>7.3.5</b> Getting even sillier</a></li>
<li class="chapter" data-level="7.3.6" data-path="ggplot2-intro-lecture.html"><a href="ggplot2-intro-lecture.html#more-add-some-text-to-it"><i class="fa fa-check"></i><b>7.3.6</b> More! Add some text to it!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="map-making-in-R.html"><a href="map-making-in-R.html"><i class="fa fa-check"></i><b>8</b> Week 7: Making Simple Maps with R</a><ul>
<li class="chapter" data-level="8.1" data-path="map-making-in-R.html"><a href="map-making-in-R.html#map-making-intro"><i class="fa fa-check"></i><b>8.1</b> Intro</a><ul>
<li class="chapter" data-level="8.1.1" data-path="map-making-in-R.html"><a href="map-making-in-R.html#todays-goals"><i class="fa fa-check"></i><b>8.1.1</b> Today’s Goals</a></li>
<li class="chapter" data-level="8.1.2" data-path="map-making-in-R.html"><a href="map-making-in-R.html#prerequisites"><i class="fa fa-check"></i><b>8.1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="8.1.3" data-path="map-making-in-R.html"><a href="map-making-in-R.html#load-up-a-few-of-the-libraries-we-will-use"><i class="fa fa-check"></i><b>8.1.3</b> Load up a few of the libraries we will use</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="map-making-in-R.html"><a href="map-making-in-R.html#maps-package-and-ggplot"><i class="fa fa-check"></i><b>8.2</b> Plotting maps-package maps with ggplot</a><ul>
<li class="chapter" data-level="8.2.1" data-path="map-making-in-R.html"><a href="map-making-in-R.html#the-main-players"><i class="fa fa-check"></i><b>8.2.1</b> The main players:</a></li>
<li class="chapter" data-level="8.2.2" data-path="map-making-in-R.html"><a href="map-making-in-R.html#maps-in-the-maps-package"><i class="fa fa-check"></i><b>8.2.2</b> Maps in the maps package</a></li>
<li class="chapter" data-level="8.2.3" data-path="map-making-in-R.html"><a href="map-making-in-R.html#makin-data-frames-from-map-outlines"><i class="fa fa-check"></i><b>8.2.3</b> Makin’ data frames from map outlines</a></li>
<li class="chapter" data-level="8.2.4" data-path="map-making-in-R.html"><a href="map-making-in-R.html#the-structure-of-those-data-frames"><i class="fa fa-check"></i><b>8.2.4</b> The structure of those data frames</a></li>
<li class="chapter" data-level="8.2.5" data-path="map-making-in-R.html"><a href="map-making-in-R.html#plot-the-usa-map"><i class="fa fa-check"></i><b>8.2.5</b> Plot the USA map</a></li>
<li class="chapter" data-level="8.2.6" data-path="map-making-in-R.html"><a href="map-making-in-R.html#state-maps"><i class="fa fa-check"></i><b>8.2.6</b> State maps</a></li>
<li class="chapter" data-level="8.2.7" data-path="map-making-in-R.html"><a href="map-making-in-R.html#zoom-in"><i class="fa fa-check"></i><b>8.2.7</b> zoom in?</a></li>
<li class="chapter" data-level="8.2.8" data-path="map-making-in-R.html"><a href="map-making-in-R.html#true-zoom."><i class="fa fa-check"></i><b>8.2.8</b> True zoom.</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="map-making-in-R.html"><a href="map-making-in-R.html#ggmap-hooray"><i class="fa fa-check"></i><b>8.3</b> ggmap</a><ul>
<li class="chapter" data-level="8.3.1" data-path="map-making-in-R.html"><a href="map-making-in-R.html#three-examples"><i class="fa fa-check"></i><b>8.3.1</b> Three examples</a></li>
<li class="chapter" data-level="8.3.2" data-path="map-making-in-R.html"><a href="map-making-in-R.html#how-ggmap-works"><i class="fa fa-check"></i><b>8.3.2</b> How ggmap works</a></li>
<li class="chapter" data-level="8.3.3" data-path="map-making-in-R.html"><a href="map-making-in-R.html#sisquoctober"><i class="fa fa-check"></i><b>8.3.3</b> Sisquoctober</a></li>
<li class="chapter" data-level="8.3.4" data-path="map-making-in-R.html"><a href="map-making-in-R.html#big-creek-in-big-sur"><i class="fa fa-check"></i><b>8.3.4</b> Big Creek in Big Sur</a></li>
<li class="chapter" data-level="8.3.5" data-path="map-making-in-R.html"><a href="map-making-in-R.html#how-about-a-bike-ride"><i class="fa fa-check"></i><b>8.3.5</b> How about a bike ride?</a></li>
<li class="chapter" data-level="8.3.6" data-path="map-making-in-R.html"><a href="map-making-in-R.html#fish-sampling-locations"><i class="fa fa-check"></i><b>8.3.6</b> Fish sampling locations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="in-development.html"><a href="in-development.html"><i class="fa fa-check"></i><b>9</b> in development</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Case Studies in Reproducible Research: a spring seminar at UCSC</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week2" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Week Two Meeting</h1>
<p>For this week, everyone should have completed the reading listed in Section <a href="week1.html#week2reading">2.5</a>. And everyone should have at least been trying to set up an RStudio Project with their own data in it, and given a whack at reading their data into a variable.</p>
<div id="workflow-and-project-recap" class="section level2">
<h2><span class="header-section-number">3.1</span> Workflow and Project Recap</h2>
<div id="workflow-basics" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Workflow: basics</h3>
<div id="style" class="section level4">
<h4><span class="header-section-number">3.1.1.1</span> Style</h4>
<p>I just want to reiterate a few things that might seem minor, but are stylistically important in the long run.</p>
<ol style="list-style-type: decimal">
<li>Don’t use <code>=</code> for assignment. Use <code>&lt;-</code>. On a Mac use Option-“-” to get that more quickly.
<ul>
<li><p>Hey! Note that you <em>do</em> use <code>=</code> (and <strong>only</strong> <code>=</code>) for <em>passing values to function arguments</em>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># do this:</span>
my_variable &lt;-<span class="st"> </span><span class="dv">10</span>

<span class="co"># don&#39;t do this (it works but is not good style)</span>
my_variable =<span class="st"> </span><span class="dv">10</span>


<span class="co"># do this</span>
result &lt;-<span class="st"> </span><span class="kw">my_function</span>(<span class="dt">arg1 =</span> <span class="dv">10</span>, <span class="dt">arg2 =</span> <span class="st">&quot;foo&quot;</span>)

<span class="co"># don&#39;t do this (it might return a results, but will likely be incorrect)</span>
result &lt;-<span class="st"> </span><span class="kw">my_function</span>(arg1 &lt;-<span class="st"> </span><span class="dv">10</span>, arg2 &lt;-<span class="st"> &quot;foo&quot;</span>)

<span class="co"># for example, figure out how this fails:</span>
<span class="kw">matrix</span>(data &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>, nrow &lt;-<span class="st"> </span><span class="dv">5</span>, byrow &lt;-<span class="st"> </span><span class="ot">TRUE</span>)</code></pre></div></li>
</ul></li>
<li>Put spaces around both sides of <code>=</code>, and <code>&lt;-</code>, and other mathematical operators like <code>+</code>, <code>-</code>, <code>*</code>, etc.</li>
<li>Put spaces after commas.</li>
<li>Use R-Studio’s magical <code>Cmd-i</code> keyboard shortcut to automatically indent highlighted code.</li>
<li>If you want to really geek out, Hadley shares his style tips more completely in his <a href="http://adv-r.had.co.nz/Style.html">Advanced R Programming</a> book.</li>
<li>In fact, he now has updated those edicts for the tidyverse <a href="http://style.tidyverse.org/index.html">here</a>.</li>
</ol>
<p>This might seem pedantic, but adhering to these conventions makes it much easier for people to read your code.</p>
</div>
<div id="tab-completion" class="section level4">
<h4><span class="header-section-number">3.1.1.2</span> TAB-completion</h4>
<p>This is HUGE!! Start developing a twitchy left pinky now!</p>
<p>TAB early; TAB often!</p>
<p>Note that that completions of R code in the console or in the source window are context dependent:</p>
<ul>
<li>variables in global environment</li>
<li>Functions</li>
<li>Quoted strings complete to filenames in directories</li>
<li>Installed packages in <code>library()</code></li>
<li>Help topics after <code>?</code></li>
<li>Function arguments within a function’s parentheses. This is absolutely huge. If you can’t remember all the different arguments a function takes, type the function and hit TAB within the parentheses. Try typing <code>read.table()</code> and his TAB while the cursor is inside the parentheses. Use the up and down arrows to scroll through the options, hit TAB again to insert one. Note that after you have used an argument it no longer appears in the list of options.</li>
</ul>
</div>
<div id="ctrl-shift-1234-to-turn-one-of-the-panes-to-full-screen" class="section level4">
<h4><span class="header-section-number">3.1.1.3</span> Ctrl + Shift + 1/2/3/4 to turn one of the panes to full-screen</h4>
<p>Thanks to Diana for writing about practing that in her homework. Awesome feature that I’ve not used previously!</p>
</div>
</div>
<div id="workflow-projects" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Workflow: projects</h3>
<div id="disable-saving-of-workspace-for-sure" class="section level4">
<h4><span class="header-section-number">3.1.2.1</span> Disable saving of workspace for sure!</h4>
<p>Let’s all walk through this.</p>
</div>
<div id="another-worthwhile-preference-for-small-screens-like-laptops" class="section level4">
<h4><span class="header-section-number">3.1.2.2</span> Another worthwhile preference for small-screens (like laptops)</h4>
Make sure that the RMarkdown preference is set to open in: <strong>Window</strong>. See Figure <a href="week2.html#fig:rmd-window">3.1</a>.
<div class="figure" style="text-align: center"><span id="fig:rmd-window"></span>
<img src="images/rmd_window.png" alt="To read RMarkdown output in a separate page (highly recommended for laptops) choose &quot;RMarkdown&quot; on the left and choose &quot;Window&quot; from the dropdown menu, and click OK." width="90%" />
<p class="caption">
Figure 3.1: To read RMarkdown output in a separate page (highly recommended for laptops) choose “RMarkdown” on the left and choose “Window” from the dropdown menu, and click OK.
</p>
</div>
</div>
<div id="opening-rstudio-projects-from-the-os-by-clicking-in-the-finder" class="section level4">
<h4><span class="header-section-number">3.1.2.3</span> Opening RStudio Projects from the OS (by clicking in the Finder)</h4>
<ul>
<li>You can open an RStudio project by double clicking the RStudio Project icon from, for example, a Mac Finder window. It lives in a directory of the same name (but it has a <code>.Rproj</code> exension.)</li>
<li>Or if you are a command line type, use, for example <code>open my_project.Rproj</code> from the Terminal.</li>
<li>You can open as many RStudio projects as you like at a time.</li>
<li>Each RStudio project launches its own, completely separate R session!</li>
<li>Interestingly, if you click on the <code>.Rproj</code> file of a project that is open, RStudio will open another instance of that project. So, don’t click on the <code>.Rproj</code> file for a project that is already open!
<ul>
<li>(In other applications on the Mac that will typically just take you to the currently open docuemnt, but not so with RStudio.)</li>
</ul></li>
<li>Use cmd-TAB to switch between open RStudio projects.</li>
</ul>
</div>
<div id="opening-rstudio-projects-from-rstudio" class="section level4">
<h4><span class="header-section-number">3.1.2.4</span> Opening RStudio Projects from RStudio</h4>
<ul>
<li>When you open existing projects using the “File-&gt;Open Project…” menu option or with the “File -&gt; Recent Projects” menu option and you currently have RStudio open “in another project,”&quot; then the new project that you are opening jumps in “on top of” the previous one. It looks like your previous project has vanished into the ether. The OS thinks there is only one RStudio open, an it has the most recently opened project in it. WHERE’S MY OTHER ONE?!</li>
<li>You can get back to it by clicking the project dropdown in the upper right of the project.</li>
<li>However, if you switch between projects this way it restarts R each time you switch back to your project so it takes a lot of time and it is super-annoying.</li>
<li>If you are working concurrently in multiple projects, I recommend opening them from the Finder (or Terminal) and switching between them using <strong>Cmd-TAB</strong>.</li>
</ul>
</div>
<div id="what-is-the-.rproj-file-really" class="section level4">
<h4><span class="header-section-number">3.1.2.5</span> What is the <code>.Rproj</code> file, really</h4>
<p>It is just a text file that stores some information and any project-specific preferences if there are any. Here is what <code>rep-res-eeb-2017.Rproj</code> looks like if you open it with a text editor:</p>
<div class="sourceCode"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="fu">Version:</span> 1.0

<span class="fu">RestoreWorkspace:</span> Default
<span class="fu">SaveWorkspace:</span> Default
<span class="fu">AlwaysSaveHistory:</span> Default

<span class="fu">EnableCodeIndexing:</span> Yes
<span class="fu">UseSpacesForTab:</span> Yes
<span class="fu">NumSpacesForTab:</span> 2
<span class="fu">Encoding:</span> UTF-8

<span class="fu">RnwWeave:</span> knitr
<span class="fu">LaTeX:</span> pdfLaTeX

<span class="fu">AutoAppendNewline:</span> Yes
<span class="fu">StripTrailingWhitespace:</span> Yes

<span class="fu">BuildType:</span> Website</code></pre></div>
</div>
<div id="r-in-an-rstudio-project-launches-in-the-project-directory" class="section level4">
<h4><span class="header-section-number">3.1.2.6</span> R in an RStudio project launches in the project directory</h4>
<ul>
<li>This makes reproducibility much easier. You can find and load files using <em>relative</em> paths.<br />
</li>
<li>Everything you might be accessing from R (data, scripts, etc.) or outputting from R will be easy to get to if they are “in the project”</li>
<li>When we say that a file is “in the project” we mean that it is stored on disk somewhere within the project directory.</li>
<li>The project directory (sometimes called the <em>root</em> of the project directory) is just the directory that contains the <code>.Rproj</code> file.</li>
<li>Expert user tip: <code>rprojroot::find_rstudio_root_file()</code> (part of the <code>rprojroot</code> package) let’s you find the root of an RStudio project directory. This can be helpful sometimes….</li>
</ul>
</div>
</div>
<div id="workflow-scripts" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Workflow: scripts</h3>
<ul>
<li>Script editor window vs console window</li>
<li>Keyboard shortcuts for evaluating codes in your scripts:
<ul>
<li><strong>Cmd-Return</strong> (sends current line to console and advances cursor to next line)</li>
<li><strong>Highlight with Cmd-Return</strong> (send highlighted code to console)
<ul>
<li>For this, <strong>Shift-up-arrow</strong> and <strong>Shift-down-arrow</strong> are good for highlighting.</li>
<li>As is <strong>Shift-Command-right-arrow</strong> or <strong>Shift-command-left-arrow</strong>.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="lets-talk-about-the-pipe" class="section level2">
<h2><span class="header-section-number">3.2</span> Let’s talk about the pipe <code>%&gt;%</code></h2>
<p>For anyone who had ever worked comfortably in Unix for a long time, and was used to chaining the output of one utility in as the input for another utility using the pipe: <code>|</code>, R’s syntax for composition of functions was always super cumbersome and required all sorts of nasty, nested parentheses.</p>
<p>Consider this simple set of operations: imagine we want to</p>
<ol style="list-style-type: decimal">
<li>simulate 1000 gamma random variables, <span class="math inline">\(G\)</span>, with parameters <span class="math inline">\(\alpha=5\)</span> and <span class="math inline">\(\beta = 1\)</span>,</li>
<li>for each <span class="math inline">\(G\)</span> simulate a Poisson random variable with mean (<code>lambda</code>) <span class="math inline">\(G\)</span>.</li>
<li>take the <code>sqrt</code> of each such variable</li>
<li>compute the variance of the result</li>
</ol>
<p>This can all be done in one line, but is ugly!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set random seed for reproducibility</span>
<span class="kw">set.seed</span>(<span class="dv">5</span>)

<span class="kw">var</span>(<span class="kw">sqrt</span>(<span class="kw">rpois</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">lambda =</span> <span class="kw">rgamma</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">shape =</span> <span class="dv">5</span>, <span class="dt">scale =</span> <span class="dv">1</span>))))</code></pre></div>
<pre><code>## [1] 0.5828768</code></pre>
<p>It doesn’t matter how stylishly you include spaces in your code, this is just Fugly!</p>
<p>You can write it on multiple lines, but it is friggin’ ghastly! Maybe worse than before.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">5</span>)

<span class="kw">var</span>(
  <span class="kw">sqrt</span>(
    <span class="kw">rpois</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">lambda =</span> <span class="kw">rgamma</span>(
      <span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">shape =</span> <span class="dv">5</span>, <span class="dt">scale =</span> <span class="dv">1</span>
    )
    )
  )
)</code></pre></div>
<pre><code>## [1] 0.5828768</code></pre>
<p>The problem is that the order in which the operations are done does not match the way things are written: the first thing to get done is the call to <code>rgamma</code>, which is nested deeply within the parentheses.</p>
<p>Enter the R “pipe” symbol. It is not as convenient to type as <code>|</code>, but you can make it quickly with the keyboard shortcut <code>cmd-shift-M</code>: <code>%&gt;%</code>. This was introduced in the <code>magrittr</code> package, and the <code>tidyverse</code> imports the <code>%&gt;%</code> symbol from <code>magrittr</code>.</p>
<p>Behold!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">set.seed</span>(<span class="dv">5</span>)

<span class="kw">rgamma</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">shape =</span> <span class="dv">5</span>, <span class="dt">scale =</span> <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw">rpois</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">lambda =</span> .) %&gt;%<span class="st">          </span><span class="co"># pass G is as the lambda parameter using the dot: .</span>
<span class="st">  </span><span class="kw">sqrt</span>() %&gt;%<span class="st">                               </span><span class="co"># no dot here, so the previous result is just the first argument to sqrt</span>
<span class="st">  </span><span class="kw">var</span>()                                    <span class="co"># same here</span></code></pre></div>
<pre><code>## [1] 0.5828768</code></pre>
<p>That is a hell of a lot easier to read! It gives me goose bumps it is so elegant.</p>
<p>The <code>%&gt;%</code> symbol says, “take the result that occurred before the <code>%&gt;%</code> and pass it in as the <code>.</code> in whatever follows the <code>%&gt;%</code>.” Furthermore, if there is no <code>.</code> in the expression after the <code>%&gt;%</code>, simply pass the result that occurred before the <code>%&gt;%</code> in as the <em>first argument</em> in the function call that comes after the <code>%&gt;%</code>.</p>
<p>This type of “chaining” of operations is particularly powerful when operating on <code>tibbles</code> using <code>dplyr</code></p>
</div>
<div id="tibbles-and-rectangular-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Tibbles and “rectangular” data</h2>
<ul>
<li>gonna talk a little about data types too.</li>
<li>Chinook CWT data example.</li>
<li>Get comfy with the <code>View()</code> function!</li>
</ul>
<div id="tibble-excercises" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Tibble excercises</h3>
<p>I’m gonna just blast through these here in case people are curious. These are answers I would use.</p>
<ol style="list-style-type: decimal">
<li><p>Use <code>class()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(mtcars)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(tibble::<span class="kw">as_tibble</span>(mtcars))</code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>Hey! does everyone see the <code>tibble::as_tibble()</code> there? The <code>::</code> is the “namespace addresser”. It lets you run a function from a library without loading the library. If you already have done <code>library(tidyverse)</code> you would have loaded the <code>tibble</code> library and could just write <code>as_tibble(mtcars)</code> but I wanted to be explicit about where the <code>as_tibble()</code> function comes from. (As an aside, it turns out that this is how you would write it if you were writing code for a package.)</p></li>
<li><p>Let’s do it first as a <code>data.frame</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>)
df$x</code></pre></div>
<pre><code>## [1] a
## Levels: a</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[, <span class="st">&quot;xyz&quot;</span>]</code></pre></div>
<pre><code>## [1] a
## Levels: a</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</code></pre></div>
<pre><code>##   abc xyz
## 1   1   a</code></pre>
<p>And then we can do it again as a <code>tibble</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">as_tibble</span>()
df$x</code></pre></div>
<pre><code>## Warning: Unknown column &#39;x&#39;</code></pre>
<pre><code>## NULL</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df$xyz</code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[, <span class="st">&quot;xyz&quot;</span>]</code></pre></div>
<pre><code>## # A tibble: 1 × 1
##     xyz
##   &lt;chr&gt;
## 1     a</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</code></pre></div>
<pre><code>## # A tibble: 1 × 2
##     abc   xyz
##   &lt;dbl&gt; &lt;chr&gt;
## 1     1     a</code></pre>
<p>Aha! Things to notice are:</p>
<ol style="list-style-type: lower-alpha">
<li><code>data.frame()</code> coerces to factors.</li>
<li>tibble doesn’t do partial name matching <code>$x</code><span class="math inline">\(\neq\)</span><code>$xyz</code></li>
<li>Square bracket extraction of a single column of a tibble retains its tibbleness. Not so with <code>data.frame</code>. With <code>data.frame</code> it gets turned into a vector.</li>
<li><code>$</code> extraction with <code>tibble</code> returns a vector.</li>
</ol></li>
<li><p>Let’s make <code>mtcars</code> a <code>tibble</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars_t &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(mtcars)
var &lt;-<span class="st"> &quot;mpg&quot;</span>

<span class="co"># this will get the &quot;mpg&quot; column out but retain it as a tibble</span>
mtcars_t[, var]</code></pre></div>
<pre><code>## # A tibble: 32 × 1
##      mpg
##    &lt;dbl&gt;
## 1   21.0
## 2   21.0
## 3   22.8
## 4   21.4
## 5   18.7
## 6   18.1
## 7   14.3
## 8   24.4
## 9   22.8
## 10  19.2
## # ... with 22 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># and this will just grab the column as a vector</span>
mtcars_t[[var]]</code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2
## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4
## [29] 15.8 19.7 15.0 21.4</code></pre></li>
<li><p>Remember that non-syntactic names (those that do not start with a letter or underscore and which include characters other than <code>-</code> and “_&quot; and “.”) must be enclosed in backticks. Let’s get our data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">annoying &lt;-<span class="st"> </span><span class="kw">tibble</span>(
<span class="st">`</span><span class="dt">1</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>,
<span class="st">`</span><span class="dt">2</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">1</span><span class="st">`</span> *<span class="st"> </span><span class="dv">2</span> +<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(<span class="st">`</span><span class="dt">1</span><span class="st">`</span>))
)</code></pre></div>
<p>OK, now let’s do the questions:</p>
<ol style="list-style-type: decimal">
<li><p>Use dollar sign with backticks:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">annoying$<span class="st">`</span><span class="dt">1</span><span class="st">`</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre></li>
<li><p>Use dollar sign with backticks</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(annoying$<span class="st">`</span><span class="dt">1</span><span class="st">`</span>, annoying$<span class="st">`</span><span class="dt">2</span><span class="st">`</span>)</code></pre></div>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-10-1.png" width="672" /></li>
<li><p>Use <code>mutate</code> (we haven’t talked about this yet) with backticks</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">annoying %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">3</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">2</span><span class="st">`</span> /<span class="st"> `</span><span class="dt">1</span><span class="st">`</span>)</code></pre></div>
<pre><code>## # A tibble: 10 × 3
##      `1`       `2`      `3`
##    &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1      1  1.725450 1.725450
## 2      2  5.182598 2.591299
## 3      3  5.517888 1.839296
## 4      4  8.894382 2.223596
## 5      5  8.740021 1.748004
## 6      6 12.153600 2.025600
## 7      7 11.878134 1.696876
## 8      8 16.885478 2.110685
## 9      9 19.429848 2.158872
## 10    10 19.439987 1.943999</code></pre></li>
<li><p>Use <code>rename</code> (we haven’t talked about this yet) with backticks</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">annoying %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="st">`</span><span class="dt">3</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">2</span><span class="st">`</span> /<span class="st"> `</span><span class="dt">1</span><span class="st">`</span>) %&gt;%
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">one =</span> <span class="st">`</span><span class="dt">1</span><span class="st">`</span>, 
         <span class="dt">two =</span> <span class="st">`</span><span class="dt">2</span><span class="st">`</span>,
         <span class="dt">three =</span> <span class="st">`</span><span class="dt">3</span><span class="st">`</span>)</code></pre></div>
<pre><code>## # A tibble: 10 × 3
##      one       two    three
##    &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1      1  1.725450 1.725450
## 2      2  5.182598 2.591299
## 3      3  5.517888 1.839296
## 4      4  8.894382 2.223596
## 5      5  8.740021 1.748004
## 6      6 12.153600 2.025600
## 7      7 11.878134 1.696876
## 8      8 16.885478 2.110685
## 9      9 19.429848 2.158872
## 10    10 19.439987 1.943999</code></pre></li>
</ol></li>
<li><p>Look it up with <code>?enframe</code>. It turns out that <code>enframe()</code> is super useful.<br />
Often you will have a vector of values with names associated with it. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">10</span>)
<span class="kw">names</span>(v) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)
v</code></pre></div>
<pre><code>##  a  b  b  c 
##  1  3  4 10</code></pre>
<p>If you want to deal with this type of vector in the tidyverse, you can enframe it into a tibble:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">enframe</span>(v)</code></pre></div>
<pre><code>## # A tibble: 4 × 2
##    name value
##   &lt;chr&gt; &lt;dbl&gt;
## 1     a     1
## 2     b     3
## 3     b     4
## 4     c    10</code></pre>
<p>By default it makes columns of “name” and “value”. That is awesome!</p></li>
<li><p>Do <code>package?tibble</code> and read through it to find that the answer we want is <code>tibble.max_extra_cols</code>.</p></li>
</ol>
</div>
</div>
<div id="data-import" class="section level2">
<h2><span class="header-section-number">3.4</span> Data import</h2>
<ul>
<li>Why use <code>readr</code> instead of the base-R reading functions? Plenty of reasons.</li>
<li>Explicit column specifications if you want to do that.</li>
</ul>
<div id="rstudios-gui-importer" class="section level3">
<h3><span class="header-section-number">3.4.1</span> RStudio’s GUI importer</h3>
<ul>
<li>This is a great way to start importing CSV files.</li>
<li>Don’t do it every time! use the code that it creates to make reading your data in reproducible.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-week-2-data-import.Rmd",
"text": "Edit"
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
